{% extends 'movies/base.html' %}

{% block title %}1.Home Page - Movie Management{% endblock %}

{% block content %}
<div class="home-container">
    <!-- head-search -->
    <div class="head-search-container">
        <h2>Welcome to Movie Management System</h2>
        <p>Browse and manage your movie collection</p>
        <form class="search-box" method="get" role="search" action="{% url 'movies:movie' %}">
            <input class="search-input" name="search_movie" type="search" value="{{ request.GET.search_movie }}" placeholder="Search for movies, actors, directors..."/ required>
            <button class="btn" type="submit">Search</button>
        </form>
        <hr>
        <br>
        {% comment %}
        <!-- <form method="get" action="{% url 'movie_list' %}">
            <input type="text" name="q" placeholder="Search movies...">
            <button type="submit">Search</button>
        </form> -->
        {% endcomment %}
    </div>
    <!-- content -->
    <div class="content">
        <h2 class="block-title">Browse by Genre</h2><hr>
        <div class="genre-items">
            {% comment %} {% if genres %} {% endcomment %}
            <ul>
                {% for genre in genres %}
                <li>
                    <div name='genres'><a href="{% url 'movies:movie' %}?genre={{ genre.genre_name }}">{{ genre.genre_name }}</a></div>
                </li>
                {% empty %}
                <p>No genre found.</p>
                {% endfor %}
            </ul>
            {% comment %} {% endif %} {% endcomment %}
        </div>
        <br>
        <h2 class="block-title">Popular Movies</h2><hr>
        <div class="movie-block">
            {% for movie in movies %}
                <div class="movie-card">
                    
                    <a class="nav-link" href="{% url 'movies:movieDetail' movie.id %}">
                        <div class="movie-poster">img</div>
                        <div class="movie-info">
                            <h3>{{ movie.title }}</h3>
                            <p>{{ movie.release_year }} * {{ movie.genre }} * {{ movie.duration }} min</p>
                            <span>rating ***** </span>
                        </div>
                    </a>
                    <br>
                    <hr>
                </div>
            {% empty %}
                <p>No movies found.</p>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
