{% extends 'movies/base.html' %}
{% block content %}
<h2>Manage Cast and Languages for {{ movie.title }}</h2>

<form method="POST">
    {% csrf_token %}
    <h3>Add Cast</h3>
    <label>Actor:</label>
    <select name="actor">
        <option value="">Select Actor</option>
        {% for actor in actors %}
            <option value="{{ actor.id }}">{{ actor.name }}</option>
        {% endfor %}
    </select>
    <input type="text" name="character_name" placeholder="Character Name">
    <button type="submit" name="add_cast">Add to Cast</button>
</form>

<h4>Existing Cast:</h4>
<ul>
{% for c in cast_list %}
    <li>{{ c.person.name }} as {{ c.character_name }}</li>
{% empty %}
    <li>No cast added yet.</li>
{% endfor %}
</ul>

<hr>

<form method="POST">
    {% csrf_token %}
    <h3>Add Language</h3>
    <select name="language">
        <option value="">Select Language</option>
        {% for lang in languages %}
            <option value="{{ lang.id }}">{{ lang.name }}</option>
        {% endfor %}
    </select>
    <button type="submit" name="add_language">Add Language</button>
</form>

<h4>Existing Languages:</h4>
<ul>
{% for lang in language_list %}
    <li>{{ lang.language.name }}</li>
{% empty %}
    <li>No languages added yet.</li>
{% endfor %}
</ul>

<form method="POST">
    {% csrf_token %}
    <button type="submit" name="done">Done</button>
</form>

{% endblock %}
